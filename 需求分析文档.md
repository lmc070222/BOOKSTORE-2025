# BookStore 需求分析文档
1.业务流图
![](https://notes.sjtu.edu.cn/uploads/upload_b8d1cb1de6e9d073c6ad01db387bb56d.jpeg)


2.数据流图
![](https://notes.sjtu.edu.cn/uploads/upload_97be77ac79082fe2f6394c86ce98090b.png)


3.数据词典


| 用户信息        | 图书信息      | 采购信息    |   营销情况  | 工作日志     | Column 3 |
| --------------- | ------------- | --- | --- | ---- | -------- |
| string 账户名字 | string ISBN号 |   string ISBN号   |  string ISBN号   |    string 操作用户  |          |
|                 |     string 书名         |  int 数量   |  int 数量   |   string 操作类型   |          |
|                 |    string 作者           |  double 单价   | double 单价    |      |          |
|                 |       string 关键词        |     |     |      |          |
|                 |        int 库存       |     |     |      |          |
|                 |    double 单价           |     |     | Text | Text     |




4.功能说明

Parse:`Parser.hpp` `Parser.cpp`构成，负责将标记序列解析成对应的指令。输入string，输出一系列的字符串

Diary:记录命令行的所有操作及操作对象

Guest:保存了用户的信息。用于注册用户和用户身份的校验。输入用户个人信息，输出校验结果（用户的身份）。

Execute:根据用户的不同身份支持不同的操作。应该包含GuestExecute,ShopperExecut,BossExecute三部分。

BookInf:保存了相关图书的信息并用于图书信息的维护。包含以下功能：1，查询，输入图书有关的信息，输出所有图书险关的信息；2，输入要修改的信息；3.用户购买书籍后自动维护图书的库存。

Purchase:用于维护采购的信息。包含功能：1.进货时输入进货信息并保存。2，输出采购情况。

Sale:用于维护销售的信息。包含功能：1.销售时输入购买信息并保存。2，输出销售情况。

Win:用于维护盈利的信息。包含功能：1.输入进货与销售数据，自动维护盈利的情况；2.输出盈利情况


5.支持的命令：

1.find  [寻找图书所需的信息]      输出图书的所有信息

2.buy  ISBN  NUMBER   输出是否购买成功（true or false）

3.build  [string] 建立一个账户

4.cd  [string]  登录一个账户

5.purchase ISBN number 购买ISBN号的书籍number本

6.establish ISBN 书籍名 作者 关键字 库存量 单价    图书信息录入

7.change ISBN [string] result 将ISBN的这本书的string信息修改为result

8.search [信息类型] 店长查看指定的系统内的信息
